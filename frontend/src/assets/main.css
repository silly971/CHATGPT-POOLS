/* Apple Design System 2025 - Liquid Glass */
@import './apple-design-system.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Apple 设计系统 - 浅色模式 */
  :root {
    --interface-scale: 1;
    font-size: calc(16px * var(--interface-scale));

    /* 背景：Apple 风格的纯白/浅灰 */
    --background: 0 0% 98%;  /* #FAFAFA (apple-gray-50) */
    --foreground: 0 0% 11%;  /* #1C1C1E (apple-gray-900) */

    /* 卡片：与背景相同或略微提升 */
    --card: 0 0% 100%;       /* 纯白 */
    --card-foreground: 0 0% 11%;

    /* 弹出层：纯白背景 */
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 11%;

    /* 主色：Apple 蓝 #007AFF */
    --primary: 211 100% 50%;
    --primary-foreground: 0 0% 100%;

    /* 次要色：Apple 浅灰 #F5F5F7 (apple-gray-100) */
    --secondary: 240 9% 96%;
    --secondary-foreground: 0 0% 11%;

    /* 柔和色：Apple 中灰 #B0B0B8 (apple-gray-400) */
    --muted: 240 5% 70%;
    --muted-foreground: 0 0% 42%;  /* apple-gray-600 */

    /* 强调色：与次要色相同，用于 hover */
    --accent: 240 9% 96%;
    --accent-foreground: 0 0% 11%;

    /* 破坏性操作：Apple 红 #FF3B30 */
    --destructive: 4 100% 60%;
    --destructive-foreground: 0 0% 100%;

    /* 边框：Apple 浅灰 #E8E8ED (apple-gray-200) */
    --border: 249 10% 91%;
    --input: 249 10% 91%;

    /* 焦点环：Apple 蓝 */
    --ring: 211 100% 50%;

    /* 圆角：12px (Apple 标准) */
    --radius: 12px;

    /* 毛玻璃效果（浅色模式） */
    --glass-bg: rgba(255, 255, 255, 0.72);
    --glass-border: rgba(0, 0, 0, 0.08);
    --glass-shadow: rgba(0, 0, 0, 0.06);

    /* 侧边栏毛玻璃 */
    --sidebar-bg: rgba(250, 250, 250, 0.85);
    --sidebar-blur: 40px;

    /* 卡片毛玻璃 */
    --card-glass-bg: rgba(255, 255, 255, 0.90);
    --card-glass-border: rgba(0, 0, 0, 0.06);

    /* Dialog 毛玻璃背景 */
    --dialog-overlay-bg: rgba(0, 0, 0, 0.40);
    --dialog-glass-bg: rgba(255, 255, 255, 0.95);
  }

  /* Apple 设计系统 - 深色模式 */
  .dark {
    /* 背景：Apple 深色模式的标准背景 #1C1C1E (apple-gray-900) */
    --background: 0 0% 11%;
    --foreground: 0 0% 98%;  /* #FAFAFA (apple-gray-50) */

    /* 卡片：略微提升的深灰 #3A3A3C (apple-gray-800) */
    --card: 0 0% 23%;
    --card-foreground: 0 0% 98%;

    /* 弹出层：与卡片相同 */
    --popover: 0 0% 23%;
    --popover-foreground: 0 0% 98%;

    /* 主色：Apple 蓝深色版 #0A84FF */
    --primary: 211 100% 52%;
    --primary-foreground: 0 0% 100%;

    /* 次要色：深灰 #515154 (apple-gray-700) */
    --secondary: 240 2% 32%;
    --secondary-foreground: 0 0% 98%;

    /* 柔和色：深灰 #515154 */
    --muted: 240 2% 32%;
    --muted-foreground: 0 0% 60%;  /* apple-gray-500 */

    /* 强调色：与次要色相同 */
    --accent: 240 2% 32%;
    --accent-foreground: 0 0% 98%;

    /* 破坏性操作：Apple 红深色版 #FF453A */
    --destructive: 3 100% 61%;
    --destructive-foreground: 0 0% 100%;

    /* 边框：深灰 #515154 (apple-gray-700) */
    --border: 240 2% 32%;
    --input: 240 2% 32%;

    /* 焦点环：Apple 蓝深色版 */
    --ring: 211 100% 52%;

    /* 毛玻璃效果（深色模式） */
    --glass-bg: rgba(28, 28, 30, 0.72);
    --glass-border: rgba(255, 255, 255, 0.12);
    --glass-shadow: rgba(0, 0, 0, 0.20);

    /* 侧边栏毛玻璃（深色） */
    --sidebar-bg: rgba(28, 28, 30, 0.85);

    /* 卡片毛玻璃（深色） */
    --card-glass-bg: rgba(58, 58, 60, 0.90);
    --card-glass-border: rgba(255, 255, 255, 0.10);

    /* Dialog 毛玻璃背景（深色） */
    --dialog-overlay-bg: rgba(0, 0, 0, 0.60);
    --dialog-glass-bg: rgba(28, 28, 30, 0.95);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

/* 毛玻璃工具类 */
@layer utilities {
  .glass-effect {
    background: var(--glass-bg);
    backdrop-filter: blur(40px) saturate(180%);
    -webkit-backdrop-filter: blur(40px) saturate(180%);
    border: 1px solid var(--glass-border);
  }

  .glass-sidebar {
    background: var(--sidebar-bg);
    backdrop-filter: blur(var(--sidebar-blur)) saturate(180%);
    -webkit-backdrop-filter: blur(var(--sidebar-blur)) saturate(180%);
    border-right: 1px solid var(--glass-border);
  }

  .glass-card {
    background: var(--card-glass-bg);
    backdrop-filter: blur(20px) saturate(160%);
    -webkit-backdrop-filter: blur(20px) saturate(160%);
    border: 1px solid var(--card-glass-border);
  }

  .glass-dialog {
    background: var(--dialog-glass-bg);
    backdrop-filter: blur(60px) saturate(180%);
    -webkit-backdrop-filter: blur(60px) saturate(180%);
    border: 1px solid var(--glass-border);
  }
}

@layer utilities {
  .text-\[12px\],
  .sm\:text-\[12px\] {
    font-size: calc(12px * var(--interface-scale));
  }

  .text-\[13px\],
  .sm\:text-\[13px\] {
    font-size: calc(13px * var(--interface-scale));
  }

  .text-\[14px\],
  .sm\:text-\[14px\] {
    font-size: calc(14px * var(--interface-scale));
  }

  .text-\[15px\],
  .sm\:text-\[15px\] {
    font-size: calc(15px * var(--interface-scale));
  }

  .text-\[17px\],
  .sm\:text-\[17px\] {
    font-size: calc(17px * var(--interface-scale));
  }

  .text-\[34px\],
  .sm\:text-\[34px\] {
    font-size: calc(34px * var(--interface-scale));
  }

  .text-\[40px\],
  .sm\:text-\[40px\] {
    font-size: calc(40px * var(--interface-scale));
  }
}
